## 分层架构: Layered Architecture

#### ▶[上一节](0.md)

在面向对象的程序中，UI、数据库以及其他支持代码常常直接写入业务对象中。额外的业务逻辑则嵌入到UI控件和数据库脚本的行为中。这种情况之所以发生，是因为从短期来看，这是让事情运作的最简单方式。

当与领域相关的代码分散在如此大量的其他代码中时，它会变得极其难以观察和推理。对用户界面表面上的更改实际上可能会改变业务逻辑。更改业务规则可能需要仔细追踪用户界面代码、数据库代码或其他程序元素。实现连贯的、模型驱动的对象变得不切实际。自动化测试也显得笨拙。在每个活动中涉及所有技术和逻辑的情况下，程序必须保持非常简单，否则就无法理解。

因此：

<ins>**将领域模型的表达和业务逻辑隔离开来，消除对基础设施、用户界面，甚至非业务逻辑的应用程序逻辑的任何依赖。将复杂程序划分为多个层次。在每一层内部开发一个内聚的设计，并且只依赖于其下层。遵循标准的架构模式，为上层提供松散耦合。将所有与领域模型相关的代码集中在一层，并将其与用户界面、应用程序和基础设施代码隔离开来。领域对象无需承担自我展示、自我存储、管理应用任务等职责，可以专注于表达领域模型。这使得模型能够发展得既丰富又清晰，从而捕捉关键的业务知识并加以运用。**</ins>

这里的关键目标是隔离。相关模式，例如 “Hexagonal Architecture”，在一定程度上可能同样有效甚至更好，因为它们使我们的领域模型表达能够避免对其他系统关注点的依赖和引用。

#### ▶[下一节](2.md)
