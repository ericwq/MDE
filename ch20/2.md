## 20.2 入门 - MDSD 试点
迈向 MDSD 的第一步通常包括，在相关背景下对 MDSD 的技术方面进行 “概念验证” -- 例如工具的选择（见第 [11](../ch11/0.md) 章）。如果取得成功，就可以开展试点项目。

当我们被要求就选择一个合适的试点项目提出建议时，我们常常会听到这样的说法：“X 项目非常适合，但我们的时间太紧，不想冒险尝试新的东西”。我们只能回答说，几乎所有项目的时间都很紧张，而 MDSD 实际上正是为了缓解这种情况。换句话说，恰恰这些项目是理想的候选项目，至少要满足或可以满足以下条件：

- 理想的情况是，该项目具有足够的吸引力，可以作为使用 MDSD 的 “种子”。
- 该项目具有足够的灵活性 (versatility)、持续时间以及足够的系统性 (schematic aspects)，使得自动化变得值得。
- 可以采用 *小规模启步 (start small)* 原则。在适当的条件下，即使是技术复杂、风险较高的项目，只要参与开发的总人数不超过十人，也可以着手进行。当然，项目不应该是一个人的项目。一个易管理的团队是成功转移知识的最佳基础。
- MDSD 必须为团队所接受，至少作为一种尝试。项目团队需要对引入 MDSD 做一些说服工作，这是正常的。尤其是开发人员必须认识到，采用这种方法不会让他们失去任何东西，反而会因为摆脱了大量乏味的复制和粘贴编程而赢得一些东西。
- 团队中要有足够的 MDSD 技能，必要时可通过外部培训加以补充。
- 软件开发环境不应对 MDSD 起反作用。这包括封闭的 CASE 工具、需要往返工程 (round-trip) 的（UML）工具（见第 [5](../ch5/0.md) 章）、自带源代码库且没有接口的封闭开发环境，以及带有专有模型的生成式 IDE，这些模型只能通过交互方式创建，因此无法通过 MDSD 转换生成。理想情况下，您应该事先选择合适的 MDSD 工具。

### 20.2.1 风险分析
MDSD 给试点项目带来的额外风险很小，因为在任何时候，如果发现形式建模和代码生成对项目不起作用，都可以放弃。到那时，投入到架构和系统 (systematics) 设计中的工作将不会白费，而是对项目有益。

截至本文撰写时，MDA 尚未建立标准化转换语言，因此 MDSD 项目必须采用专有方法/工具来创建其转换/生成器。（虽然有 QVT，但尚未被广泛采用。） 然而，这些元程序的代码量与生成的代码量相比极其微小 -- 详见第 [18](../ch18/0.md) 章的评估。若某工具在 MDSD 中表现不佳或根本不适用，通常可在试点项目初期便得以识别，因此将转换迁移至其他工具所带来的额外开销，不应构成重大负担。

如果使用成熟度较高的开源工具，就可以实现投资保护和制造商的独立性（见第 [11](../ch11/0.md) 章）。

### 20.2.2 项目启动
试点项目的启动工作应包括以下内容：

- 团队必须熟悉 MDSD 的基础知识。这尤其包括第 [13](../ch13/0.md) 章中描述的流程方面，如应用和领域架构开发的分离，以及双轨迭代同步（第 [13.3](../ch13/3.md) 节）。必要时，请一位 MDSD 顾问。
- 从以架构为中心的 MDSD 开始，让你的团队先从这种 MDSD 变体中获得一些经验。
- 团队应根据项目规模承担第 [19](../ch19/0.md) 章所述的角色。要特别注意人员配置的动态平衡，如第 [19.2.1](../ch19/2.md#1921-角色定义和人员配备要求) 节所述 -- 计划好领域架构的引导阶段和相应角色的工作量。团队的技术专家应能根据具体情况做出评估。

如果领域架构的启动测试运行不可行，可以通过一个单独的局部项目进行引入。在这种情况下，我们可以为企业软件开发提出以下建议：

- 建立一个小而强大的局部团队，负责创建参考实现。
- 同时，开始开发实际应用，重点关注 GUI，目的是为客户提供一个合理的原型（第一个功能增量），让客户对实际应用有一个初步印象。首先实现所需的最低限度的业务逻辑，并尽可能将其封装在单独的类/模块中。用简单的模拟对象（见第 [14](../ch14/0.md) 章）替代尚不可用的架构基础架构，如数据库集成。
- 参考实现还应该包括架构方面的内容，如与现有遗留 (legacy) 应用的集成（见第 [8.2.5](../ch8/2.md#825-模型驱动的集成) 节）。
- 必须保证参考实现团队和应用团队之间的双向信息交流：参考实现团队必须了解应用开发的要求和想法，并对其做出响应，而应用开发人员则必须了解参考实现所体现的概念和想法。
- 一旦有了架构参考实施的初始版本，就立即同步进行应用开发。从这时起，参考实现的构造和编程范式就会集成进应用开发中。根据计划安排和可用能力，一个小型子团队可以对现有应用部分进行重构，用参考实现的概念替换模拟对象。应用开发团队与较小的参考实现团队之间的反馈回路仍然至关重要。
- 此时，领域架构师可以开始提取形式化方面 (formal aspects)，并开始构建领域架构。
- 一旦有了领域架构的初始版本，应用的开发就会转到 MDSD，现有的应用部分（如果适用）也会进行改造，以便为过渡做好准备。
