## 5.6 MDSD 与敏捷软件开发
迭代-递增过程是MDSD的强大盟友，严格的时间框有助于顺利实现架构开发与应用开发之间的反馈循环。敏捷软件开发的重中之重是开发可运行的软件，并由利益相关者和最终用户进行验证，这一点在 MDSD 中也是如此。MDSD 包含许多技术和方法，可在复杂项目中使用敏捷软件开发原则。这些技术可支持敏捷需求管理和对正在构建的软件进行定期验证。这些问题将在第 [13](../ch13/0.md) 章中详细阐述。

MDSD 的目标并不是规定一种特定的（敏捷）方法。只要遵守 MDSD 关于迭代式软件开发的少量但严格的规则，开发过程中的微观活动就可以由任何敏捷方法来管理。在实践中，敏捷团队中的角色分配是基于个人的特长和能力，而不是死板的职位描述。

MDSD 强调模型的重要性。这些模型具有与源代码相同的意义，而不是可有可无的文档。通过领域架构 "生产" 或生成系统的自动化程度，与 3GL 语言编译的自动化程度相同。敏捷性问题涉及领域架构的创建以及应用的建模和实现。

### 5.6.1 敏捷宣言与 MDSD
在本节的剩余部分，我们将探讨 MDSD 与敏捷开发的匹配程度。让我们先看看敏捷宣言，可在 http://agilemanifesto.org 上找到。

*我们正在通过实践和帮助他人来探索更好的软件开发方法。通过这项工作，我们开始重视*

* *个人和互动胜过过程和工具。*
* *可行软件胜过全面的文档。*
* *客户合作胜过合同谈判。*
* *应对变化胜过按计划行事。*

*也就是说，虽然右边的条目有价值，但我们更看重左边的条目。*

现在，让我们结合 MDSD 逐一分析这些说法。

***"个人和互动" 与 "过程和工具"***

这句话首先表达了对人的高度尊重。归根结底，这意味着不应该建立不以人为本的过于形式化的流程。一个团队应根据自身的具体情况确定自己的开发流程，并随着时间的推移不断发展。团队成员之间的互动优先于以文档为中心的正式流程。

这里显然没有批评使用版本系统或编译器等工具。在 MDSD 中通过 DSL 完成部分编程的前提下，生成器取代了编译器，与敏捷开发并不矛盾。

***"可运行软件” 与 “全面的文档"***

在项目实践中，更重要的是交付可运行的软件，而不是诸如需求、概念、架构或设计等好看的文档。在 MDSD 中，模型就是源代码。图表不只是装饰品，而是核心工件。由于应用是直接从模型中生成的，因此图表和软件不会渐行渐远，而且始终是最新的。

通过 MDSD，可运行软件的创建速度明显加快，因为乏味的、重复性的实现任务被自动化了。我们并不是在传播一种类似于瀑布的过程，即首先实现施领域架构，然后在第二个项目阶段使用该架构构建应用。将这两方面更紧密地结合起来，可以更及时地创建可运行的应用，但不一定是完整的应用。

***"客户合作" 与 "合同谈判"***

这表明我们希望客户尽可能多地参与应用软件的开发。特别是在项目过程中，应能及时应对客户不断变化的要求，而不是从一开始就签订固定的合同。(参见下一节）。

在这方面，MDSD 比传统的迭代式增量开发更具优势。这在应用非技术性 DSL 时尤为明显，该语言可用于与客户沟通并可重复使用，从而缩短反馈周期：DSL 本身与是否应用 MDSD 无关。

***"应对变化" 胜过 "按计划行事"***

这一评价是指在项目过程中灵活地纳入客户（不断变化的）要求，而不是坚持在项目开始时写下来的正式定义的要求，因为这些要求对客户来说可能已不再重要。MDSD 使这一过程变得更加容易：

* 与传统软件开发相比，当与领域相关的需求发生变化时，生成方法可以更快、更一致地实现这些变化。
* 通过转换实现的技术方面可以在一个地方进行调整，并且这种变化会自动传播到整个应用中。

### 5.6.2 敏捷技术
在本节中，我们将简要讨论 MDSD 与敏捷技术之间的相互作用。

*结对编程 (Pair programming)* 是一种在极限编程（XP）领域广为人知的技术，其中两名开发人员共用一个终端，共同实现应用。这样做的好处是可以快速发现错误，因为其中一名开发人员负责实现施细节，而另一名开发人员则负责整体概念并识别错误。当然，这也适用于 MDSD。在建模过程中（取决于 DSL），开发人员和领域专家甚至可以一起坐在终端前。

另一项重要技术是 *测试驱动开发 (test-driven development)* ，也称为 *测试先行 (test first)* 。这里的理念是首先实现测试，然后根据测试结果开发应用，直到所有测试通过为止。就 MDSD 而言，这种方法原则上当然也是可行的。然而，由于模型具有额外的规范级别 (specification level)，因此存在着更广泛的可能性。我们将在第 [14](../ch14/0.md) 章详细讨论这些问题。

将应用设计转换为标准化的实现往往被视为限制了开发人员的自由，也限制了他们响应客户愿望的能力。另一方面，重构工作的很大一部分重点在于使实现与目标架构相近，尤其是在敏捷项目中。从这个角度来看，在转换过程中对架构进行编码只是这一思路的逻辑延伸。重构作为一种敏捷技术，基本上可以应用于模型、平台、转换，当然也可以应用于手动实现的代码。

<ins>我们不仅认为 MDSD 和敏捷性不是对立的，我们甚至认为，MDSD 可以通过架构和领域知识的明确编码，以及通过领域架构和应用开发的分离，帮助扩展敏捷技术</ins>。

