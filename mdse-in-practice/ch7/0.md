## 7. 开发自己的建模语言
建模常被误解为仅仅是绘制漂亮图画的过程。然而正如我们之前所提，模型远不止是漂亮的图示。模型必须遵循明确定义的结构（恰如程序代码），即必须符合所关联的 *元模型 (metamodel)* —— 该元模型体现了建模语言的 *抽象语法 (abstract syntax)* 。拥有良好定义的结构是模型操作的基础，例如：从模型仓库加载/存储模型、查询与转换模型内容、验证模型语法正确性等操作皆需此基础支撑，以上只是列举一些常见的操作。在某些将模型视为草图 (sketches) 的建模环境及工具中，或未基于 MDE 实践构建的工具里，元模型如同隐藏在工具用户界面背后的秘密生命，因此往往对建模者不可见。在简单使用场景下，设计者或许无需透彻理解幕后机制，但在复杂的 MDE 场景中，把握 MDE 设计的全局图景至关重要。尤其当构建定制化 MDE 环境时，元模型的开发与应用至关重要 —— 本章后续内容将对此展开阐述。核心原因在于：除了语言抽象语法外的其他特性，如建模时使用的可视化符号体系定义，均高度依赖于元模型。

- [7.1 元模型导向的语言设计](1.md)
- [7.2 DSML 示例：SWML](2.md)
- [7.3 抽象语法开发](3.md)
  * [7.3.1 元模型开发过程](3.md#731-元模型开发过程)
  * [7.3.2 Eclipse 中的元建模](3.md#732-eclipse-中的元建模)
- [7.4 具体语法开发](4.md)
  * [7.4.1 图形化具体语法（GCS）](4.md#741-图形化具体语法gcs)
  * [7.4.2 文本具体语法（TCS）](4.md#742-文本具体语法tcs)
- [7.5 真实世界案例：IFML](5.md)
  * [7.5.1 要求](5.md#751-要求)
  * [7.5.2 在 IFML 中满足要求](/5.md#752-在-ifml-中满足要求)
  * [7.5.3 元建模原则](5.md#753-元建模原则)
  * [7.5.4 IFML 元模型](5.md#754-ifml-元模型)
  * [7.5.5 IFML 具体语法](5.md#755-ifml-具体语法)

----
#### 1
在编程语言中，基于 EBNF 的语法规则 [35](../bibliography.md#35) 被用于实现此目的。

#### 2
例如，英语语法定义了所有有效的英语句子；Java 语法定义了所有有效的 Java 程序。

#### 3
请注意图形化语言通常包含文本元素，例如 UML 状态机中状态名称以文本形式呈现。此外，还存在混合方法通过文本元素呈现抽象语法，如 MPS 所支持的方案，详见：http://www.jetbrains.com/mps 。

#### 4
http://www.mdse-book.com

#### 5
https://eclipse.org/modeling/emf

#### 6
http://www.mdse-book.com

#### 7
http://www.eclipse.org/modeling/emft/?project=ecoretools

#### 8
http://wiki.eclipse.org/KM3

#### 9
http://wiki.eclipse.org/Emfatic

#### 10
http://www.eclipse.org/modeling/mdt/?project=ocl

#### 11
http://wiki.eclipse.org/MDT/OCLinEcore

#### 12
http://www.dresden-ocl.org

#### 13
http://www.eclipse.org/epsilon/doc/evl

#### 14
www.omg.org/spec/DD

#### 15
映射关系可能具有条件性，即用于可视化的元素选择取决于模型元素的某些特征值。

#### 16
http://www.eclipse.org/gmf

#### 17
工具面板是建模工具中提供图标的区域，用户可通过拖放元素至此区域来填充建模画布。

#### 18
http://www.eclipse.org/sirius

#### 19
http://www.eclipse.org/gmt/epsilon/doc/eugenia

#### 20
http://www.eclipse.org/graphiti

#### 21
http://www.eclipse.org/gef

#### 22
为简化起见，本文不讨论图标等页面的完整 GCS 规范。

#### 23
http://www.eclipse.org/epsilon/doc/hutn

#### 24
http://www.eclipse.org/gmt/tcs

#### 25
http://www.emftext.org

#### 26
http://www.eclipse.org/Xtext

#### 27
Xtext 已扩展支持元模型优先开发模式，可通过元模型生成默认 TCS。

#### 28
http://www.monticore.org

#### 29
http://www.omg.org/spec/IFML
