## 第 4 章：架构

#### ▶[上一节](../ch3/2.md)
*<p align="right">建筑应体现其时代和地域，</br>但又向往永恒。</br>——Frank Gehry</p>*

DDD 的一个最大优势是它不要求使用任何特定的架构。由于我们精心设计的 [Core Domain (2)](../ch2/0.md) 位于 [Bounded Context (2)](../ch2/0,md) 的核心位置，它使一个或多个架构影响能够在整个应用程序或系统中发挥作用。<sup>[1](#1)</sup> 一些架构影响围绕领域模型并具有广泛的整体效果，而另一些则针对特定的需求。目标是 *使用恰当的架构选择和架构模式组合* 。

对特定软件品质的实际需求应驱动架构风格与模式的选择。所选方案必须经证实能满足或超越所需品质。避免过度使用架构风格与模式与选用正确方案同样重要。让真实、切实的质量需求驱动架构实践，是一种有益的风险驱动方法 [[Fairbanks](../bibli.md#fairbanks)] 。如此我们仅利用架构来降低失败风险，而非因采用无法证明其合理性的架构风格或模式而增加失败风险。因此，我们必须能够证明每个架构影响的合理性，否则就应将其从系统中剔除。

我们论证任何架构风格与模式选择合理性的能力，仅限于现有功能需求（如用例或用户故事），甚至特定于领域模型的场景。换言之，若无功能需求，便无法确定必要的软件品质。缺乏此类输入时，我们实际上无法做出合理的架构选择，这意味着采用用例驱动的架构方法进行软件开发在当今依然适用。

---
**<center>本章路线图</center>**

- 聆听 SaaSOvation 首席信息官的回顾访谈。
- 了解 DIP 与 `Hexagonal` 构如何改进可靠的`Layers Architecture`。
- 探索 Hexagonal 如何支持面向服务与 REST。
- 深入理解`Data Fabric`或`Grid-Based Distributed Cache`和`Event-Driven`
- 探索新型架构模式 CQRS 如何助力 DDD
- 借鉴 SaaSOvation 团队实践的架构方案

---

**架构并非炫技工具**

下列架构风格与模式并非随处可用的炫酷工具箱。它们应仅在适用场景中使用，即当其能缓解特定风险，避免项目或系统失败风险加剧时。

| ||
|---|---|
|[[Evans](../bibli.md#evans)] 专注于`Layers Architecture`。正因如此，SaaSOvation 最初认为 DDD 唯有采用这种知名模式才能发挥效用。团队花了些时间才理解到，尽管`Layers Architecture`在 [[Evans](../bibli.md#evans)] 著作问世时最为流行，但 DDD 实际上具有更强的适应性。|![](../img/tips.2.png)|

`Layers Architecture`的原则仍可用于指导优质决策。但我们不必止步于此，后续将探讨若干现代架构与模式，在必要时加以运用。这将证明 DDD 的灵活性与广泛适用性。

诚然，SaaSOvation 项目无需同时采纳所有架构理念，但团队必须从现有选项中明智抉择。

#### ▶[下一节](1.md)

---

#### 1
本章探讨架构风格、应用架构与架构模式。风格描述如何实现特定架构，而架构模式阐释如何解决架构中的特定问题，其内涵比设计模式更为广泛。建议不必过度纠结这些差异，只需理解 DDD 可作为众多周边架构影响的核心。

