## 虚构，充满现实

#### ▶[上一节](5.md)

在思考如何最佳呈现面向当代应用的 DDD 实施指南时，我希望能为每项建议提供充分依据。这意味着不仅要阐明方法，更要揭示原理。我意识到，通过几个项目的案例研究，既能恰如其分地说明为何提出特定建议，又能展示如何运用 DDD 有效解决常见挑战。

有时，观察其他项目团队面临的问题并从他们对 DDD 的误用中汲取教训，比自我审视更为容易。当你认清他人工作的缺陷后，自然能判断自身是否正朝着同样危险的方向偏移，甚至深陷相同的泥潭。明确当前所处位置或未来走向后，便能精准调整方向，既能纠正现有问题，又能避免重蹈覆辙。

与其展示我实际参与过的一系列项目 ——这些项目我本就无法公开讨论—— 我决定采用基于真实情境的虚构案例，这些情境源于我和他人亲身经历。这样我就能构建出理想的情境，从而阐明在应对 DDD 挑战时，为何特定实现方法能发挥最佳效果，或至少更胜一筹。

因此，我构建案例研究的兴趣不仅限于虚构内容。这是一家拥有真实商业章程的虚构公司，公司内部设有需要构建和部署真实软件的虚构团队，面临真实的 DDD 挑战及其引发的问题，并采用现实解决方案应对。我称之为“充满现实元素的虚构”。我发现这种写作方式相当有效，希望对您有所裨益。

在呈现任何案例集时，我们必须限定范围以确保实用性。否则，海量案例将淹没教学与学习的成效。案例也不能过于简单化，否则关键要义将付之东流。为平衡这一要求，我所选取的商业案例主要基于绿地 (greenfield) 开发模式。

当我们从不同时间节点审视这些项目时，会看到团队经历的各种问题与成功。作为示例`Core Domain`，该领域具备足够的复杂性，可从多角度考察 DDD 。我们的`Bounded Contexts`会使用一个或多个其他上下文，这使我们能够研究与 DDD 的集成。尽管如此，三个示例模型仍无法展现战略设计的全部维度，例如存在大量遗留系统的 “棕地 (brownfield)” 环境中常见的复杂场景。我并未刻意回避这些较少关注的领域，仿佛它们无关紧要。在合理情况下，我们将跳出主线示例，深入研究 DDD 指导原则能创造额外价值的领域。

现在请允许我介绍公司概况，并简要说明团队构成及其正在推进的项目。

---

### SaaSOvation 公司、其产品及对 DDD 的应用

|该公司名为 SaaSOvation 。顾名思义，SaaSOvation 的宗旨是开发一系列软件即服务（SaaS）产品。这些 SaaS 产品由 SaaSOvation 托管，订阅机构可访问并使用。该公司的商业计划包含两款预定产品，将按先后顺序推出。|<img src="../img/ovation.1.png" width="60%"/>|
|:---|---|

旗舰产品名为 CollabOvation。这套企业协作套件融合了主流社交网络的核心功能，包括论坛、共享日历、博客、即时通讯、维基、留言板、文档管理、公告与提醒、活动追踪以及 RSS 订阅。所有协作工具均聚焦企业需求，助力提升小型项目、大型计划及跨部门业务的生产力。在当今瞬息万变、充满不确定性却又快节奏的经济环境中，企业协作对于营造协同氛围至关重要。任何能推动生产力进步、促进知识转移、激发创意共享、关联管理创造过程以避免成果流失的工具，都将成为企业成功方程式中的助力。CollabOvation 为客户提供了高价值解决方案，其开发挑战也将令开发者倍感欣慰。

第二款产品名为 ProjectOvation，是核心业务领域的主力产品。该工具专注于敏捷项目管理，采用 Scrum 作为迭代式增量项目管理框架。ProjectOvation 遵循传统 Scrum 项目管理模式，完整涵盖产品、产品负责人、团队、待办事项、计划发布和冲刺等要素。其待办事项估算通过基于成本效益分析的商业价值计算器实现。若将 Scrum 视为最完善的实践形态，ProjectOvation 正朝着这个方向发展。但 SaaSOvation 计划实现更高的性价比。

CollabOvation 与 ProjectOvation 并非完全分道扬镳。SaaSOvation 及其顾问委员会设想将协作工具与敏捷软件开发相结合的创新模式。因此，CollabOvation 的功能将作为 ProjectOvation 的可选附加组件提供。毋庸置疑，为项目规划、功能与用户故事讨论、团队及跨团队协作讨论以及技术支持提供协作工具将成为广受欢迎的选择。SaaSOvation 预测，超过 60% 的 ProjectOvation 用户将添加 CollabOvation 功能。而此类附加销售往往最终会促成附加产品本身的新完整销售。一旦销售渠道建立，软件开发团队在项目管理套件中体验到协作功能的强大后，其热情将推动企业全面采用完整的协作套件。基于这种病毒式销售策略，SaaSOvation 进一步预测：至少 35% 的 ProjectOvation 销售将促成企业全面采用 CollabOvation。他们认为这是保守估计，但足以确保其取得巨大成功。

CollabOvation 产品开发团队率先组建完成。团队中虽有几位经验丰富的老手，但更多是中级开发人员。早期会议指出 DDD 是首选的设计与开发方法。两位资深开发者中的一位曾在前雇主的项目中应用过最基础的 DDD 模式。当他向团队描述经验时，经验丰富的 DDD 实践者不难看出这并非完整运用 DDD，其做法常被称为 DDD-Lite 。

DDD-Lite 是一种从 DDD 战术模式中择优取用的方法，但并未充分关注发现、捕捉和增强通用语言。此外，该技术通常绕开了`Bounded Contexts`与`Context Mapping`的应用。其关注点更偏向技术层面，旨在解决技术难题。虽然存在优势，但相较于结合战略建模的方案，其回报率通常较低。SaaSOvation 曾采纳此法，但很快因团队未能理解`Subdomains`概念及显式`Bounded Contexts`的强大作用与安全保障而陷入困境。

情况本可能更糟。SaaSOvation 之所以能规避使用 DDD-Lite 的若干重大陷阱，纯粹是因为其两大核心产品天然形成了`Bounded Contexts`集合。这种结构使 CollabOvation 模型与 Project-Ovation 模型得以形式化分离。但这纯属偶然。团队并未真正理解`Bounded Context`概念，这正是他们遭遇问题的原因所在。好吧，要么从中吸取教训，要么就失败。

---

我们能从 SaaSOvation 团队对 DDD 的不完整运用中获益，这值得肯定。该团队最终通过深化对战略设计的理解，从错误中汲取了经验。您同样能从 CollabOvation 团队的调整中获得启示，因为后来的 ProjectOvation 团队正是通过对姊妹及伙伴项目早期状况的回顾，才得以从中受益。完整故事详见 [Subdomains (2)](../ch2/0.md) 、[Bounded Contexts (2)](../ch2/0.md) 及 [Context Maps (3)](../ch3/0.md) 。

<center><img src="../img/ownit.png" align="center" width="30%" /></center>

#### ▶[下一节](7.md)
