## 其他层中的模块

#### ▶[上一节](4.md)

无论你选择何种 [Architecture (4)](../ch4/0.md)，都必须为架构中的非模型组件创建并命名模块。
本文探讨适用于传统 [Layered Architecture (4)](../ch4/0.md) 的若干方案，这些方案也可应用于其他架构风格。

在采用领域模型的应用程序所使用的典型`Layered Architecture`中，各层的堆叠顺序如下：用户界面层、应用层、领域层、基础设施层。根据应用程序的需求所确定的各层组件类型，每层内部的模块也会有所不同。

首先来看 [User Interface Layer (14)](../ch14/0.md)，以及对 RESTful 资源提供支持所产生的影响。
你的资源可同时为 GUI 和系统客户端提供服务，生成采用 XML、JSON 和 HTML 格式的表征状态。
但在为 GUI 提供支持的情况下，RESTful 资源不会/不应生成包含展示布局的表征内容。
而是仅以多种标记语言（XML、HTML）和序列化格式（XML、JSON、Protocol Buffers）生成简洁的表征内容。
客户端对各类表征状态施加的所有图形布局，均来自另一独立渠道。
因此，在支持 REST 的用户界面层中，你可选择至少设置两个模块，模块名称可按如下方式命名：

```java
    com.saasovation.agilepm.resources
    com.saasovation.agilepm.resources.view
```

RESTful 资源存放在 resources 包中。
纯展示相关的处理逻辑由 view 子包内的组件实现（若你偏好，也可命名为 presentation ）。
根据系统所需的 REST 式资源数量，每个主模块下可设置若干子模块。
考虑到一个资源提供类可支持多个 URIs，你手中的资源提供类数量可能少到足以全部放在主模块中。
一旦确定了实际的资源需求，是否对其进行进一步模块化就成了一个容易做出的决定。

`Application Layer`可包含其他模块，各模块可按服务类型单独设置：

```java
    com.saasovation.agilepm.application.team
    com.saasovation.agilepm.application.product
    ...
    com.saasovation.agilepm.application.tenant
```

与 RESTful 服务资源的设计原则类似，`Application Layer`中的服务仅在确有必要时才划分为子模块。例如在`Identity
and Access Context`中，`Application Services`的数量较少，团队便选择将其统一置于主模块中。

```java
    com.saasovation.identityaccess.application
```

你也可以选择采用模块化程度更高的设计，这一做法同样可行。当服务数量较多，比如约六个左右时，对其进行更细致的模块化设计或许会有所帮助。

#### ▶[下一节](6.md)
