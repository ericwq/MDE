## 7.1 MDSD背景下的软件架构
*软件架构 (software architecture)* 一词固然重要，但不幸的是，它的定义也同样模糊不清。我们既不想也没有必要试图提供一个普遍有效的详细定义 -- 为此，我们推荐阅读相关文献，如 [BCK98](../ref.md#bck98)、[POSA1](../ref.md#posa1)、[JB00](../ref.md#jb00)、[PBG04](../ref.md#pbg04)。为便于进一步讨论，我们只需列出相关的观点和具体内容即可。以下对软件体系架构一词的简单 “定义” 将作为基础：

*软件架构以一定程度的细节描述了软件系统的结构（分层、模块化等）和系统性（模式、约定等）。*

软件架构这一主题在 MDSD 的各种子语境中都发挥着作用：

- 首先，软件架构用于构建将要生成或创建的软件系统。在这里，参考实现起着核心作用：要生成的应用的软件架构即使只是作为示例，其整体也是可见的。然而，软件系统家族的每个完整成员都拥有相同的软件架构。因此，这种观点是最经典、最常见的观点： 如何构建应用或软件系统？这个问题的答案与开发是否以模型驱动无关，因此可以利用软件架构的整个工具箱来寻找答案。就 MDSD 而言，还必须考虑其他要求。这种MDSD视角下的软件架构主题使我们引入了 *目标架构 (target architecture)* 这一术语。目标架构包含平台架构（见下文）。
- MDSD *领域架构 (domain architecture)* （见第 [4](../ch4/0.md) 章）也是一种软件架构。它定义了整个元模型、DSL 和平台以及转换。领域架构为软件系统族的产品提供了基础。在这里，我们在某种程度上是在元层面上进行操作，因为领域体系结构服务于软件的创建 -- 领域架构决定了目标架构的主要部分。
- 软件架构与 MDSD 平台相关，它描述了最重要的平台组件、它们之间的相互作用以及它们的非功能特性，这也是我们将其称为 *平台架构 (platform architecture)* 的原因。平台既可以在元层面（因为它是领域架构的一部分）找到，也可以在具体层面找到，因为它也是在领域架构帮助下生成的每个软件<sup>[1](#1)</sup> 的一部分 -- 否则软件就不完整：即无法运行。
- 软件架构在 MDSD 转换中也发挥着作用，因为它实际上定义了生成代码的软件架构（如上所述，它是目标架构的一部分），必要时还定义了必须手动编程的自定义逻辑的具体集成点。转换也是软件，因此也应该由软件架构来组织。我们称后者为 *转换架构 (transformation architecture)* 。
- 最后，通用 MDSD 工具也必须符合一定的架构标准。我们称其软件架构为工具架构。

这种分类为我们提供了一个主题细分，我们可以利用它来进一步组织本书这一部分接下来各章的结构：

- 本章讨论目标架构和平台架构。
- 第 [8](../ch8/0.md) 章讨论转换架构，还涉及领域架构。
- 第 [9](../ch9/0.md) 章详细介绍代码生成技术。
- 第 [10](../ch10/0.md) 章介绍模型转换的最新进展。
- 第 [11](../ch11/0.md) 章介绍工具架构的基础知识和选择标准。

就 MDSD 而言，目标架构极为重要。只有明确定义了架构的概念，才能自动生成架构的各个部分。如果不能系统地描述要生成的构件，就不可能创建生成规则（转换），也就不可能创建领域架构。因此，本章的所有建议都与创建 MDSD 参考实现相关。

---
#### 1 
这是一种使用关系：（生成的）软件产品使用平台，但平台并不属于它们。
