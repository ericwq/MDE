## 选择重构目标

#### ▶[上一节](9.md)

当你面对一个结构混乱的大型系统时，该从何处着手？在极限编程（XP）社区中，常见的答案不外乎以下两种：
1. 随便从哪里开始，因为所有代码都需要重构。
2. 从痛点开始。我将重构完成特定任务所需的部分。

我对这两种做法都不认同。第一种除非在少数完全由顶尖程序员组成的项目中，否则根本不切实际。第二种则往往只顾修补表面问题，治标不治本，回避最棘手的纠缠。最终代码会变得越来越难以重构。

那么，如果你无法面面俱到，又不能被痛点驱动，该怎么办？

1. 在痛点驱动的重构中，你需要判断根源是否涉及 [CORE DOMAIN](1.md) ，或是`CORE`与辅助元素的关系。若涉及，就咬紧牙关先解决这个问题。
2. 当你有自由重构的余地时，应优先优化 [CORE DOMAIN](1.md) 的模块划分，加强`CORE`的隔离性，并提纯辅助子领域使其成为`GENERIC`。

这才是重构投入产出比最大化的方法。

#### ▶[下一节](../ch16/0.md)
