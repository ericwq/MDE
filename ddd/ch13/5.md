## 时机

#### ▶[上一节](4.md)

*若等到能为变更提供完整依据时才行动，那已是为时过晚。* 此时项目已产生高昂成本，而推迟的变更将更难实施，目标代码将变得更复杂，更深地嵌入其他代码之中。

持续重构已被视为一种 “最佳实践”，但大多数项目团队对此仍持过度谨慎的态度。<ins>他们看到的是修改代码的风险以及开发者为进行修改所付出的时间成本；但更难看清的是保留一个尴尬设计的风险，以及围绕这个设计进行工作的成本。</ins>希望重构的开发者常被要求证明决策合理性。这种要求看似合理，却让本就困难的事变得难以完成，往往扼杀重构行为（或迫使其转入地下）。<ins>软件开发并非可预测的过程，无法精确计算变更的收益或维持现状的代价。</ins>

重构以获得更深刻的洞察力，需要成为领域持续探索的主题、开发者教育以及开发者与领域专家思想碰撞的重要组成部分。因此，在...时重构
- 该设计未能体现团队对领域当前的理解；
- 设计中存在隐含的重要概念（且你发现将其显式化的方法）；或
- 你发现可使设计中某些关键部分更灵活的机会。

这种激进态度不能成为任何时候改变的借口。不要在发布前夕进行重构。不要引入那些仅为炫技却未能触及领域核心的 “灵活设计”。不要引入看似优雅却无法说服领域专家采用的“更深层模型”。不必对事物抱持绝对立场，但应主动突破舒适区，朝着支持重构的方向推进。

#### ▶[下一节](6.md)
