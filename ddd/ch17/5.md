## 战略设计决策的六大要素

#### ▶[上一节](4.md)

#### 决策必须覆盖整个团队

显然，如果每个人都不知道战略并遵循它，那么就没有了用处。
该要求导致人们围绕集中式架构团队组织起来，这些团队拥有官方 “权威”，以便相同的规则可以到处适用。
讽刺的是，象牙塔的架构师往往被忽视或绕过。
当架构师在将自己的规则应用到实际应用时缺乏实践反馈，从而导致不切实际的方案时，开发人员别无选择。

<ins>在沟通顺畅的项目中，由应用团队提出的战略设计往往能更有效地触达所有人。这样的战略既切合实际，又具备智慧型集体决策所赋予的权威性。</ins>

无论采用何种体系，开发者与战略之间的实际关联性远比管理层授予的权威更为重要。

#### 决策过程必须吸纳反馈

要建立组织原则、构建大规模架构或提炼此类精妙设计，必须对项目需求和领域概念有深刻理解。唯有应用开发团队成员具备这种深度认知。这解释了为何架构团队设计的应用架构往往收效甚微，尽管其中不乏才华横溢的架构师。

与技术基础设施和架构不同，战略设计本身并不涉及大量编写代码，尽管它影响着所有开发工作。它真正需要的是与应用程序开发团队的深度协作。一位经验丰富的架构师能够倾听来自不同团队的想法，并推动通用解决方案的形成。

我曾共事的一个技术架构团队，会让成员轮岗到尝试使用其框架的各个应用开发团队。这种轮岗机制既让架构团队获得了开发者实际面临挑战的实战经验，同时又传递了如何运用框架精妙之处的知识。战略设计同样需要这种紧密的反馈循环。

#### 计划必须允许演进

高效的软件开发是一个高度动态的过程。当最高层级的决策被固定下来时，团队在应对变化时可选方案便会减少。[EVOLVING ORDER](../ch16/1.md) 通过强调根据深入洞察持续调整大规模结构，从而规避了这一陷阱。

当过多的设计决策被预先设定时，开发团队的行动将受到束缚，无法灵活应对所承担的任务。<ins>因此，虽然统一原则具有重要价值，但它必须随着开发项目的持续推进而成长演变，且不应过度剥夺应用程序开发者的自主权，毕竟他们的工作本就足够艰巨。</ins>

通过强有力的反馈，当在构建应用程序时遇到障碍以及发现意想不到的机会时，创新就会出现。

#### 架构团队不能把所有最优秀的人才吸走

这个层次的设计需要的精细程度可能是稀缺的。管理者通常会将技术最出众的开发人员调入架构团队和基础设施团队，因为他们希望利用这些高级设计师的技能。而对于开发人员来说，他们被有机会产生更广泛影响或处理 “更有趣” 的问题所吸引。同时，成为精英团队的一员也带有一定的声望。

这些力量通常只留下技术水平最低的开发人员来实际构建应用程序。但构建好的应用程序需要设计技能；这就是失败的潜在原因。即使战略团队制定了出色的战略设计，应用团队也没有足够的设计水平来执行它。

相反，这类团队几乎从不包括那些设计能力可能较弱但在该领域拥有最丰富经验的开发人员。战略设计不仅仅是一个纯技术任务；将自己与具有深厚领域知识的开发人员隔绝，会进一步削弱架构师的努力。领域专家也是必需的。

在所有应用团队中拥有强大的设计师是至关重要的。在任何尝试战略设计的团队中拥有领域知识也是必要的。可能简单地需要雇佣更高级的设计师。保持架构团队兼职可能会有所帮助。我相信有很多可行的方法，但任何有效的战略团队都必须有一个有效的应用团队作为合作伙伴。

#### 战略设计需要简约和谦逊

提炼和极简主义对于任何优秀的设计工作都是必不可少的，但对于战略设计来说，极简主义甚至更为关键。即使是最轻微的不契合，也可能严重妨碍设计的实施。独立的架构团队必须格外小心，因为他们对可能给应用团队带来的障碍缺乏足够的感知。同时，架构师对其主要职责的热情也容易让他们过于投入。我多次见过这种现象，甚至自己也犯过类似的错误。一个好的想法会引出另一个，最终我们可能会得到一个过度设计、适得其反的架构。

相反，我们必须自律，去制定出精简的组织原则和核心模型，只保留那些能显著提高设计清晰度的内容。<ins>事实是，几乎所有东西都会妨碍其他东西，因此每个元素都应该物有所值。意识到你最好的想法很可能会妨碍到别人，需要谦逊。</ins>

#### 对象是专家；开发者是通才

良好对象设计的本质是为每个对象赋予清晰而狭窄的职责，并将相互依赖降到绝对最低。有时我们试图让团队间的互动像软件中一样整洁。一个好的项目中，很多人都会关心别人的事务。开发者玩框架，架构师编写应用代码，每个人都相互交流。这是一种高效的混乱。让对象成为专家，让开发者成为通才。

因为我区分了 *战略设计* 与其他类型的设计以帮助澄清相关任务，我必须指出，有两种设计活动并不意味着需要两类人。基于深度模型创建灵活的设计是一项高级设计活动，但细节非常重要，必须由参与代码的人来完成。战略设计从应用设计中产生，但它需要对活动有宏观的视野，可能涉及多个团队。<ins>人们喜欢寻找方法来切分任务，以便设计专家不必了解业务，而领域专家也不必理解技术。个人能学习的东西有限，但过度专业化会削弱以领域为驱动的设计的活力。</ins>

### 技术框架也同样适用

技术框架可以极大地加速应用开发（包括领域层），它通过提供基础设施层，让应用不必自行实现基础服务，并帮助将领域与其他关注点隔离开来。
但架构 *也存在干扰领域模型的表达实现与便捷修改* 的风险。
即使框架设计者无意涉足领域层或应用层，这种情况也可能发生。

那些能降低战略设计负面风险的原则，同样适用于技术架构。
渐进演化、极简主义，以及与应用开发团队的深度参与，能够催生一套持续优化的服务与规则，真正助力应用开发而不形成阻碍。
不遵循这条路径的架构，要么会扼杀应用开发的创造力，要么会被绕开，导致应用开发实际上处于无架构状态。

而有一种特定的态度，必定会毁掉一个框架。

---
*<center>别给傻瓜写框架</center>*

那些认为某些开发人员不够聪明而无法进行设计的团队划分，往往注定失败，因为它们低估了应用程序开发的难度。如果这些人确实不够聪明，就不该被安排开发软件；如果他们足够聪明，那么试图呵护他们的做法只会为他们与所需工具之间设置障碍。

这种态度同样会毒害团队关系。我曾身处如此傲慢的团队，每当与开发者交谈时都不得不道歉，为自己与这样的团队有瓜葛而感到难堪。（遗憾的是，我从未能改变这样的团队。）

现在， *封装无关紧要的技术细节完全不同于* 我所诟病的预包装行为。框架能将强大的抽象概念和工具交付开发者手中，使其摆脱繁琐工作。这种差异难以用概括性语言描述，但可通过询问框架设计者对工具/框架/组件使用者的期望来辨别：若设计者对框架使用者表现出高度尊重，则其设计方向基本正确。

---

### 警惕总体规划

<ins>以 Christopher Alexander 为首的一群建筑师（即设计实体建筑的建筑师）倡导在建筑与城市规划领域推行渐进式发展。他们精辟阐释了总体规划为何屡屡失败。</ins>

---
- 若缺乏某种规划流程，俄勒冈大学就永远不可能拥有接近剑桥大学那种深邃而和谐的秩序。

- 总体规划一直是应对这一难题的传统方式。它力求制定足够的指导方针，以确保整体环境的协调性 —— 同时仍为单体建筑和开放空间留出自由空间，使其能适应局部需求。

- ……这所未来大学的各个组成部分将形成一个有机整体，因为它们不过是被嵌入了设计框架的预留位置。

- ……实际上总体规划往往失败 —— 因为它们创造的是极权主义秩序，而非有机秩序。它们过于僵化，难以适应社区生活中必然出现的自然且不可预测的变化。随着这些变化发生……总体规划便过时失效，不再被遵循。即便在规划得以执行的情况下……它们对建筑间联系、人性化尺度、功能平衡等要素的规范仍显不足，无法确保每个具体的建造与设计行为都能与整体环境形成良好关联。

- ……试图规划这样的路线，恰似给儿童涂色书填色…………即便成功，由此产生的秩序也终究平庸。

- 因此，作为有机秩序的来源，总体规划既过于精确，又不够精确。整体过于精确，细节却不够精确。

- ……总体规划的存在疏远了使用者 \[因为从定义上讲\] 社区成员对社区未来形态的影响微乎其微，因为大多数重要决策早已尘埃落定。

  ——摘自《The Oregon Experiment》，第 16-28 页（ [Alexander et al. 1975](../references.md#alexander-1975) ）

---

Alexander 及其同仁主张制定一套原则，供所有社区成员在每次渐进式发展中遵循，从而催生出契合具体环境的 “有机秩序 (organic order)”。

#### ▶[下一节](../conclusion/0.md)
