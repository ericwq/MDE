## 区分`ENTITIES`与`VALUE`对象

#### ▶[上一节](2.md)

我们将逐个审视每个对象，寻找需要追踪的标识符或所表示的基本值。首先处理明确无误的情况，随后再探讨较为模糊的案例。

### `Customer`

我们先从一个简单的开始。`Customer`对象代表个人或公司，即通常意义上的实体。`Customer`对象显然具有对用户重要的身份特征，因此在模型中属于 [ENTITY](../ch5/2.md) 。如何追踪它？税务 ID 在某些情况下可能适用，但跨国公司无法使用该方式。这个问题需要咨询领域专家。经与航运公司业务人员探讨，我们发现该公司已有客户数据库，首次销售接触时即为每位`Customer`分配专属 ID 号。该 ID 已在公司内部广泛使用；在我们的软件中采用该编号可实现系统间的身份连续性。初期将采用人工录入方式。

### `Cargo`

两个相同的货箱必须可区分，因此`Cargo`对象属于 [ENTITIES](../ch5/2.md) 。实际操作中，所有运输公司都会为每件货物分配追踪 ID。该 ID 将自动生成，对用户可见，且通常在预订时即传达给客户。

### `Handling Event`与`Carrier Movement`

我们关注这些独立事件，因为它们能让我们追踪动态。这些事件反映现实世界中通常不可互换的实际情况，因此属于 [ENTITIES](../ch5/2.md) 。每次`Carrier Movement`都将通过航运计划获取的代码进行标识。

与领域专家的进一步讨论表明，通过`Cargo ID`、完成时间和类型三要素的组合可唯一标识`Handling Events`。例如同一`Cargo`不可能同时处于装载和卸载状态。

### `Location`

名称相同的两个地点并非同一处。经纬度虽可作为唯一标识符，但实际应用价值有限，因本系统多数场景无需关注此类测量数据，且其操作较为复杂。更可能的情况是，`Location`将纳入某种地理模型，通过航线及其他领域特定要素关联地点。因此采用任意的、内部生成的自动标识符即可满足需求。

### `Delivery History`

这点颇为棘手。`Delivery Histories`不可互换，因此属于 [ENTITIES](../ch5/2.md) 。但每个`Delivery History`与其`Cargo`存在一对一关系，故其本身并无独立身份。其身份实则承袭自所属`Cargo`。待我们建模`AGGREGATES`时，此点将更为清晰。

### `Delivery Specification`

尽管它代表了`Cargo`的目标，但这种抽象概念并不依赖于`Cargo`本身。它实际上表达了某种`Delivery History`的假设状态。我们期望附属于`Cargo`的`Delivery History`最终能满足该`Cargo`所附的`Delivery Specification`。若两个`Cargoes`运往相同目的地，它们可共享同一`Delivery Specification`，但即使初始记录相同（为空），也无法共享同一`Delivery History`。`Delivery Specification`属于 [VALUE OBJECTS](../ch5/3.md) 。

### `Role` 及其他属性

`Role`描述了其所限定的关联关系，但不具备历史或连续性。它属于 [VALUE OBJECT](../ch5/3.md) ，可被不同`Cargo`/`Customer`关联关系共享。

其他属性（如时间戳或名称）同样属于于 [VALUE OBJECTS](../ch5/3.md) 。

#### ▶[下一节](4.md)
