## 船运模型中的`MODULES`

#### ▶[上一节](9.md)

迄今为止，我们考察的对象数量极少，因此模块化尚未成为问题。现在让我们观察船运模型中稍大一些的部分（当然仍属简化），以了解其组织成 [MODULES](../ch5/5.md) 的方式如何影响模型。

[Figure 7.7](#figure-77) 展示了一个假想的、对本书充满热情的读者所构建的模型。该图是对 [第 5 章](../ch5/0.md) 提出的基础设施驱动式封装 (packaging) 问题的变体。在此情境下，对象被按各自遵循的模式进行分组。结果导致概念上关联性弱（低内聚）的对象被强行挤在一起，所有 [MODULES](../ch5/5.md) 之间存在随意且无序的关联（高耦合）。这些封装 (package) 讲述了一个故事，但并非关于船运的叙事，而是开发者当时阅读内容的写照。

#### Figure 7.7
![Figure 7.7](../img/fig7.7.png)
*这些 [MODULES](../ch5/5.md) 未能传递领域知识。*

按模式划分看似明显错误，但其实并不比将持久对象与临时对象分离，或任何其他未基于对象含义的系统化方案更缺乏合理性。

相反，我们应当寻找具有凝聚力的概念，并聚焦于项目中需要向他人传达的核心信息。如同小规模建模决策，实现路径存在多种可能。[Figure 7.8](#figure-78) 展示了一种直截了当的方法。

#### Figure 7.8
![Figure 7.8](../img/fig7.8.png)
*基于广义领域概念的 [MODULES](../ch5/5.md)*

[Figure 7.8](#figure-78) 中的`MODULE`名称构成了团队的术语体系。我们公司确实为 *customers* *shipping* 货物以便 *bill*。销售与市场人员负责对接 *customers* 并签订协议。运营团队执行 *shipping* 任务，将货物送达指定目的地。后台部门负责 *billing* 工作，根据 *customer* 协议中的定价条款提交发票。这套些 [MODULES](../ch5/5.md) 体系便构成了上述业务流程的完整叙述。

这种直观的模块划分当然可在后续迭代中优化，甚至可能被完全替换，但当前它正有效支持 [MODEL-DRIVEN DESIGN](../ch3/1.md) ，并为 [UBIQUITOUS LANGUAGE](../ch2/1.md) 的提供支撑。

#### ▶[下一节](11.md)
